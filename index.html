<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<title>rDrop - Simple and Fast P2P File Transfer Service - No compression, No size limit, Secure and Fast! - WebRTC Cross Platform File Transfer Tool</title>
		<link href="/--style.css?_=1b1ubm" rel="stylesheet" type="text/css" media="all" />
		<link href="https://use.fontawesome.com/releases/v6.0.0/css/all.css" rel="stylesheet" media="print" onload="this.onload=null;this.removeAttribute('media');" />
		<link href="https://fonts.googleapis.com/icon?family=Karla:200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800&display=swap" rel="stylesheet" media="print" onload="this.onload=null;this.removeAttribute('media');" />
		<base href="/" />

		<meta property="og:type" content="website" />
		<meta property="og:title" content="rDrop - Simple and Fast P2P File Transfer Service - No compression, No size limit, Secure and Fast! - WebRTC Cross Platform File Transfer Tool" />
		<meta property="og:description" content="rDrop.link is Simple and Fast P2P File Transfer Service.
It doesn&#39;t compress files, there is no size limit, it&#39;s secure and fast!
It uses the power of Sktch.io as a NoCode/LowCode platform combined with the power of WebRTC for the P2P File Transfer." />
		<meta property="og:image" content="https://sktch-projects.s3.amazonaws.com/assets/a64ac8362ea1dc78aaec5c1a6efe7489.png" />

		<link rel="icon" type="image/png" href="https://sktch-projects.s3.amazonaws.com/favicons/6cf59996f2a9a96f3a260bf999d53e95-32.png" />

		<meta content="Sktch.io" name="generator" />

		
			<link rel="manifest" href="/--manifest.json" />
			<meta name="apple-mobile-web-app-capable" content="yes" />
			<meta name="apple-mobile-web-app-title" content="rDrop" />
			<link rel="apple-touch-icon" sizes="32x32" href="https://sktch-projects.s3.amazonaws.com/pwaManifestIcons/9dcfa7a242945626e82d80ee8b22417b-32.png" />
			<link rel="apple-touch-icon" sizes="64x64" href="https://sktch-projects.s3.amazonaws.com/pwaManifestIcons/9dcfa7a242945626e82d80ee8b22417b-64.png" />
			<link rel="apple-touch-icon" sizes="128x128" href="https://sktch-projects.s3.amazonaws.com/pwaManifestIcons/9dcfa7a242945626e82d80ee8b22417b-128.png" />
			<link rel="apple-touch-icon" sizes="512x512" href="https://sktch-projects.s3.amazonaws.com/pwaManifestIcons/9dcfa7a242945626e82d80ee8b22417b-512.png" />
		
		<meta name="theme-color" content="#d5393a" />


<!--
       Built visually with https://Sktch.io, the best no-code platform!

                        @@@                                          @@                        #@@
       @@@@@@@@#        @@@                                          @@(                       @@@
    @@@@       @@@      @@@               @@@                        @@(
    @@          @@@     @@@       @@@  @@@@@@@@@@&       @@@@@@@@    @@( @@@@@@@               @@@        @@@@@@@@
    @@                  @@@      @@@      @@@         @@@(           @@@@      @@@             @@@     @@@@      @@@@
    @@@@@@              @@@    @@@        @@@        @@@             @@@        @@@            @@@     @@@         @@
         @@@@@@@@.      @@@  #@@@         @@@        @@@             @@(        @@@            @@@     @@@         @@
                @@@     @@@  @@@(         @@@        @@@             @@(        @@@            @@@     @@@         @@
    @@          @@@     @@@    @@@        @@@        @@@             @@(        @@@            @@@     @@@         @@
    @@@         @@@     @@@     @@@@      @@@         @@@            @@(        @@@    @@@     @@@     @@@        @@@
     @@@@@@@@@@@@       @@@       @@@       @@@@@@     @@@@@@@@@@    @@(        @@@    @@@     @@@       @@@@@@@@@@@


   -->


		<script type="application/json" x-page-data>{"actions":{"0":[{"name":"P2P","trigger":"render","controller":"// Global Variables\r\nwindow.code = Math.random().toString(36).substring(2, 8);\r\nwindow.pc = new RTCPeerConnection({\r\n\ticeServers: [\r\n\t\t{\r\n\t\t\turls: ['stun:stun1.l.google.com:19302', 'stun:stun2.l.google.com:19302', /*'stun:stun3.l.google.com:19302', 'stun:stun4.l.google.com:19302', 'stun:stun.stunprotocol.org:3478', 'stun:stun.services.mozilla.com', 'stun:stun.1und1.de:3478'*/],\r\n\t\t}\r\n\t],\r\n\ticeCandidatePoolSize: 10,\r\n});\r\nwindow.delay = t=>new Promise(r=>setTimeout(r, t));\r\n\r\nvar $console = S.findElementByTag('console');\r\n\r\nclass P2PChannel {\r\n\tconstructor(channel/*, chunkSize=64*1024*/) {\r\n\t\tthis.channel = channel;\r\n\t\tthis.data = [];\r\n\t\tthis.channel.onmessage = (evt) => {\r\n\t\t\tthis.data.push(evt.data);\r\n\t\t\tif(evt.data == 'OK' && this.okQueue.length>0) {\r\n\t\t\t\tconsole.log('OK Received');\r\n\t\t\t\tthis.okQueue.splice(0, 1)[0]();\r\n\t\t\t}\r\n\t\t\tfor(let cb of this.onData) {\r\n\t\t\t\tcb(evt.data);\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\t/*this.setChunkSize(chunkSize);\r\n\t\tthis.buffering = false;\r\n\t\tthis.channel.onbufferedamountlow = () => {\r\n\t\t\tthis.buffering = false;\r\n\t\t};*/\r\n\t\tthis.okQueue = [];\r\n\t\tthis.onData = [];\r\n\t}\r\n\t/*setChunkSize(chunkSize) {\r\n\t\tthis.chunkSize = chunkSize;\r\n\t\tthis.channel.bufferedAmountLowThreshold = this.chunkSize;\r\n\t}*/\r\n\tasync send(data) {\r\n\t\t/*while(this.buffering) {\r\n\t\t\tawait delay(150);\r\n\t\t\tthis.buffering = this.channel.bufferedAmount > this.chunkSize;\r\n\t\t}*/\r\n\t\tvar i = 0;\r\n\t\tvar retries = 120;\r\n\t\twhile(i\u003Cretries) {\r\n\t\t\ti++;\r\n\t\t\ttry {\r\n\t\t\t\tvar k = 0;\r\n\t\t\t\twhile(this.channel.bufferedAmount>8*1024*1024 || k>100) {\r\n\t\t\t\t\tk++;\r\n\t\t\t\t\tawait delay(100);\r\n\t\t\t\t}\r\n\t\t\t\tthis.channel.send(data);\r\n\t\t\t\treturn;\r\n\t\t\t} catch(e) {\r\n\t\t\t\tif(this.channel.readyState!='open')\r\n\t\t\t\t\tthrow 'CHANNEL_CLOSED';\r\n\t\t\t\tif(i==retries) {\r\n\t\t\t\t\tconsole.error(e);\r\n\t\t\t\t\tthrow 'CHANNEL_CLOSED';\r\n\t\t\t\t} else\r\n\t\t\t\t\tawait delay(Math.min(1500, 25 * i));\r\n\t\t\t}\r\n\t\t}\r\n\t\t//this.buffering = this.channel.bufferedAmount > this.chunkSize;\r\n\t}\r\n\tasync sendOK() {\r\n\t\tawait this.send('OK');\r\n\t}\r\n\tasync sendJSON(data) {\r\n\t\tawait this.send(JSON.stringify(data));\r\n\t}\r\n\tasync sendArrayBuffer(data) {\r\n\t\tthis.channel.binaryType = 'arraybuffer';\r\n\t\tawait this.send(data);\r\n\t}\r\n\tasync sendBlob(data) {\r\n\t\tthis.channel.binaryType = 'blob';\r\n\t\tawait this.send(data);\r\n\t}\r\n\tbufferLength() {\r\n\t\treturn this.data.map((a)=>a instanceof ArrayBuffer?a.byteLength:a.length).reduce((a, b)=>a+b);\r\n\t}\r\n\tgetArrayBuffer(autoFlush=true) {\r\n\t\tvar out = this.data.filter(buff=>buff instanceof ArrayBuffer);\r\n\t\tif(autoFlush) {\r\n\t\t\tthis.data = this.data.filter(buff=>!(buff instanceof ArrayBuffer));\r\n\t\t}\r\n\t\treturn out;\r\n\t}\r\n\tflush() {\r\n\t\tthis.data.splice(0);\r\n\t}\r\n\taddDataListener(cb) {\r\n\t\tthis.onData.push(cb);\r\n\t}\r\n\tasync readJSON(autoFlush=true, timeout=Infinity) {\r\n\t\tvar toRead = '';\r\n\t\tvar i = 0;\r\n\t\tfor(let data_ of this.data) {\r\n\t\t\ttoRead += data_;\r\n\t\t\ti++;\r\n\t\t\ttry {\r\n\t\t\t\tvar out = JSON.parse(toRead);\r\n\t\t\t\tif(autoFlush)\r\n\t\t\t\t\tthis.data.splice(0, i);\r\n\t\t\t\treturn out;\r\n\t\t\t} catch(e) {}\r\n\t\t}\r\n\t\treturn;\r\n\t}\r\n\tasync waitForOk(timeout=10) {\r\n\t\treturn new Promise(async (resolve, reject) => {\r\n\t\t\tif(this.data.includes('OK')) {\r\n\t\t\t\tthis.flush();\r\n\t\t\t\tresolve();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.okQueue.push(() => {\r\n\t\t\t\tthis.flush();\r\n\t\t\t\tresolve();\r\n\t\t\t});\r\n\t\t\tawait delay(timeout * 1000);\r\n\t\t\treject('Timeout, did not receive response.');\r\n\t\t});\r\n\t}\r\n}\r\nwindow.P2PChannel = P2PChannel;"},{"name":"Sender","trigger":"render","controller":"window.setupSender = async (callback) => {\r\n\t\r\n\tS.findElementByTag('mode-separator').hide();\r\n\tS.findElementByTag('mode-receive').hide();\r\n\t\r\n\tvar createkey = _variables.createkey;\r\n\tvar retrievekey = _variables.retrievekey;\r\n\tvar editkey;\r\n\t\r\n\tvar offerCandidates = [];\r\n\tvar answerCandidates = [];\r\n\t\r\n\t\r\n\t// Solves bug in iOS/Safari\r\n\t// https://github.com/webrtc/samples/issues/1123\r\n\t// https://bugs.webkit.org/show_bug.cgi?id=189503\r\n\t/*var cameraStream;\r\n\tif(navigator.platform.includes('iPhone') || navigator.platform.includes('iPad')) {\r\n\t\tController.showError('iOS has a bug that requires microphone permission to be able to transfer files P2P.');\r\n\t\tawait delay(1000);\r\n\t\tcameraStream = await navigator.mediaDevices.getUserMedia({audio: true, video:false});\r\n\t\tcameraStream.getTracks().forEach(track=>track.stop());\r\n\t\tcameraStream = undefined;\r\n\t}*/\r\n\t\t\t\r\n\t\t\t\r\n\t\r\n\twindow.sendChannel = window.pc.createDataChannel('info', { \r\n        ordered: true,\r\n        reliable: true,\r\n    });\r\n\t//sendChannel.binaryType = 'arraybuffer';\r\n\t\r\n\t\r\n\twindow.pc.onicecandidate = (event) => {\r\n\t\tconsole.log('onicecandidate', event);\r\n\t\tevent.candidate && offerCandidates.push(event.candidate.toJSON());\r\n\t};\r\n\t\r\n\t// Create offer\r\n\tconst offerDescription = await pc.createOffer();\r\n\tawait pc.setLocalDescription(offerDescription);\r\n\t\r\n\t\r\n\tconst offer = {\r\n\t\tsdp: offerDescription.sdp,\r\n\t\ttype: offerDescription.type,\r\n\t};\r\n\t\r\n\t/*await delay(600);\r\n\twhile(offerCandidates.length==0) {\r\n\t\tawait delay(1000);\r\n\t}*/\r\n\tconsole.log('offer', offer);\r\n\t\r\n\tawait S.httpPost('--createEntry', {\r\n\t\tcreateKey\t: createkey,\r\n\t\tdata\t\t: {\r\n\t\t\tcode\t\t\t: window.code,\r\n\t\t\toffer\t\t\t: JSON.stringify(offer),\r\n\t\t\tofferCandidates\t: JSON.stringify(offerCandidates),\r\n\t\t\tanswer\t\t\t: JSON.stringify({}),\r\n\t\t\tanswerCandidates: JSON.stringify([]),\r\n\t\t},\r\n\t});\r\n\t\r\n\tvar refreshInterval = 500;\r\n\t\r\n\tvar askedCamera = false;// for ios/safari\r\n\t\r\n\tvar refreshAnswer = async () => {\r\n\t\tvar data = await S.httpPut('--retrieveEntry', {\r\n\t\t\tretrieveKey\t: retrievekey,\r\n\t\t\tinputs\t\t: [window.code],\r\n\t\t});\r\n\t\tif(data.success) {\r\n\t\t\tdata = data.data;\r\n\t\t\teditkey = data.editkey;\r\n\t\t\tif(data.answer!='{}') {\r\n\t\t\t\tif(pc.signalingState!='stable') {\r\n\t\t\t\t\tpc.setRemoteDescription(new RTCSessionDescription(JSON.parse(data.answer)));\r\n\t\t\t\t}\r\n\t\t\t\tif(pc.currentRemoteDescription) {\r\n\t\t\t\t\tdata.answercandidates = JSON.parse(data.answercandidates);\r\n\t\t\t\t\tfor(let candidate of data.answercandidates) {\r\n\t\t\t\t\t\tif(!answerCandidates.find(ac=>ac.candidate==candidate.candidate)) {\r\n\t\t\t\t\t\t\tpc.addIceCandidate(new RTCIceCandidate(candidate));\r\n\t\t\t\t\t\t\tanswerCandidates.push(candidate);\r\n\t\t\t\t\t\t\trefreshInterval = window.channelConnected?30000:500;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.answercandidates.length>0) {\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tif(window.pc.connectionState=='failed')\r\n\t\t\t\t\t\t\t\tS.findElementByTag('connection-failed').show();\r\n\t\t\t\t\t\t}, 5000);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// Solves bug in iOS/Safari\r\n\t\t\t\t// https://github.com/webrtc/samples/issues/1123\r\n\t\t\t\t// https://bugs.webkit.org/show_bug.cgi?id=189503\r\n\t\t\t\t/*setTimeout(async () => {\r\n\t\t\t\t\tif(!askedCamera && !window.channelConnected) {\r\n\t\t\t\t\t\taskedCamera = true;\r\n\t\t\t\t\t\tawait navigator.mediaDevices.getUserMedia({audio: true, video:true});\r\n\t\t\t\t\t\tController.showError('iOS has a bug that requires microphone permission to be able to transfer files P2P.');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(cameraStream) {\r\n\t\t\t\t\t\tcameraStream.getTracks().forEach(track=>track.stop());\r\n\t\t\t\t\t\tcameraStream = undefined;\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 5000);*/\r\n\t\t\t} else {\r\n\t\t\t\trefreshInterval = Math.min(refreshInterval+200, 6000);\r\n\t\t\t}\r\n\t\t\tdata.offercandidates = JSON.parse(data.offercandidates);\r\n\t\t\tif(offerCandidates.length != data.offercandidates.length) {\r\n\t\t\t\tvar data = await S.httpPut('--editEntry', {\r\n\t\t\t\t\teditKey\t\t: editkey,\r\n\t\t\t\t\tdata\t\t: {\r\n\t\t\t\t\t\toffercandidates\t: JSON.stringify(offerCandidates),\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconsole.error('Error while communicating with server.');\r\n\t\t}\r\n\t\tsetTimeout(refreshAnswer, refreshInterval);\r\n\t};\r\n\trefreshAnswer();\r\n\t\r\n\tawait callback(new P2PChannel(sendChannel));\r\n\t/*sendChannel.addEventListener('open', () => {\r\n\t\tconsole.log('Channel Opened')\r\n\t});\r\n\tsendChannel.addEventListener('close', () => console.log('Channel Closed'));\r\n\tsendChannel.addEventListener('error', () => console.log('onError'));*/\r\n};"},{"name":"Receiver","trigger":"render","controller":"window.setupReceiver = async (callback) => {\r\n\t\r\n\tS.findElementByTag('mode-separator').hide();\r\n\tS.findElementByTag('mode-send').hide();\r\n\tS.findElementByTag('mode-receive-title').text('Receiving Files:');\r\n\t\r\n\tvar createkey = _variables.createkey;\r\n\tvar retrievekey = _variables.retrievekey;\r\n\tvar editkey;\r\n\t\r\n\tvar offerCandidates = [];\r\n\tvar answerCandidates = [];\r\n\t\r\n\tvar offer = await S.httpPut('--retrieveEntry', {\r\n\t\tretrieveKey\t: retrievekey,\r\n\t\tinputs\t\t: [window.code],\r\n\t});\r\n\tif(!offer.data) {\r\n\t\tthrow new Error('Invalid code.');\r\n\t}\r\n\t\r\n\teditkey = offer.data.editkey;\r\n\t\r\n\t\r\n\twindow.pc.onicecandidate = (event) => {\r\n\t\tconsole.log('onicecandidate', event);\r\n\t\tevent.candidate && answerCandidates.push(event.candidate.toJSON());\r\n\t};\r\n\t\r\n\t\r\n\tawait pc.setRemoteDescription(new RTCSessionDescription(JSON.parse(offer.data.offer)));\r\n\t\r\n\t\r\n\tconst answerDescription = await pc.createAnswer();\r\n\tawait pc.setLocalDescription(answerDescription);\r\n\t\r\n\t\r\n\t\r\n\tconst answer = {\r\n\t\ttype: answerDescription.type,\r\n\t\tsdp: answerDescription.sdp,\r\n\t};\r\n\t\r\n\tvar data = await S.httpPut('--editEntry', {\r\n\t\teditKey\t: editkey,\r\n\t\tdata\t\t: {\r\n\t\t\tcode\t\t\t\t: window.code,\r\n\t\t\tanswer\t\t\t\t: JSON.stringify(answer),\r\n\t\t\tanswerCandidates\t: JSON.stringify(answerCandidates),\r\n\t\t},\r\n\t});\r\n\t\r\n\t\r\n\tpc.addEventListener('datachannel', () => {\r\n\t\treceiveChannel = event.channel;\r\n\t\t//receiveChannel.binaryType = 'arraybuffer';\r\n\t\tcallback(new P2PChannel(receiveChannel));\r\n\t\t\r\n\t\t/*receiveChannel.onmessage = (data) => {\r\n\t\t\tconsole.log('onReceiveMessageCallback');\r\n\t\t\tconsole.log(event.data);\r\n\t\t\t\r\n\t\t};\r\n\t\treceiveChannel.onopen = () => {\r\n\t\t\tconsole.log('onReceiveChannelStateChange');\r\n\t\t};\r\n\t\treceiveChannel.onclose = () => {\r\n\t\t\tconsole.log('onReceiveChannelStateChange');\r\n\t\t};*/\r\n\t});\r\n\t\r\n\tvar refreshInterval = 1000;\r\n\tvar refreshOffer = async () => {\r\n\t\tvar data = await S.httpPut('--retrieveEntry', {\r\n\t\t\tretrieveKey\t: retrievekey,\r\n\t\t\tinputs\t\t: [window.code],\r\n\t\t});\r\n\t\tif(data.success) {\r\n\t\t\tdata = data.data;\r\n\t\t\teditkey = data.editkey;\r\n\t\t\tif(data.offer!='{}') {\r\n\t\t\t\tif(pc.signalingState!='stable') {\r\n\t\t\t\t\tpc.setRemoteDescription(new RTCSessionDescription(JSON.parse(data.offer)));\r\n\t\t\t\t}\r\n\t\t\t\tif(pc.currentRemoteDescription) {\r\n\t\t\t\t\tdata.offercandidates = JSON.parse(data.offercandidates);\r\n\t\t\t\t\tfor(let candidate of data.offercandidates) {\r\n\t\t\t\t\t\tif(!offerCandidates.includes(candidate)) {\r\n\t\t\t\t\t\t\tpc.addIceCandidate(new RTCIceCandidate(candidate));\r\n\t\t\t\t\t\t\tofferCandidates.push(candidate);\r\n\t\t\t\t\t\t\trefreshInterval = window.channelConnected?30000:500;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.offercandidates.length>0) {\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tif(window.pc.connectionState=='failed')\r\n\t\t\t\t\t\t\t\tS.findElementByTag('connection-failed').show();\r\n\t\t\t\t\t\t}, 5000);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\trefreshInterval = Math.min(refreshInterval+200, 6000);\r\n\t\t\t}\r\n\t\t\tdata.answercandidates = JSON.parse(data.answercandidates);\r\n\t\t\tif(answerCandidates.length != data.answercandidates.length) {\r\n\t\t\t\tvar data = await S.httpPut('--editEntry', {\r\n\t\t\t\t\teditKey\t\t: editkey,\r\n\t\t\t\t\tdata\t\t: {\r\n\t\t\t\t\t\tanswercandidates\t: JSON.stringify(answerCandidates),\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconsole.error('Error while communicating with server.');\r\n\t\t}\r\n\t\tsetTimeout(refreshOffer, refreshInterval);\r\n\t};\r\n\trefreshOffer();\r\n\t\r\n};"},{"name":"Setup","trigger":"render","controller":"const chunkSize = 64*1024;\n\nvar fileQueue = [];\n\nvar isSetup = false;\n\nvar $dropZone = S.findElementByTag('drop-zone');\nvar $fileInput = S.H('\u003Cinput type=\"file\" id=\"fileInput\" multiple />').hide().insertAfter($dropZone);\nvar $filesQueueSend = S.findElementByTag('files-queue-send').empty().hide();\nvar $filesQueueReceive = S.findElementByTag('files-queue-receive').empty().hide();\nvar $downloadAll = S.findElementByTag('download-all');\nwindow.sendChannel;\n\nwindow.channelConnected = false;\nconst sendCallback = async (sendChannel, callback) => {\n\treturn new Promise((resolve, reject) => {\n\t\tvar code = window.code.toUpperCase().replace(/^([a-z0-9]{3})/i, '$1-');\n\t\tS.findElementByTag('code-output').text(code);\n\t\tS.findElementByTag('connection-setup').show();\n\t\tsetConnectionStatus('Waiting for receiver', true);\n\t\t\n\t\tS.findElementByTag('qr-code').css('background-image', 'url('+(new QRious({\n\t\t  background: '#000000',\n\t\t  backgroundAlpha: 0,\n\t\t  foreground: '#FFFFFF',\n\t\t  foregroundAlpha: 1,\n\t\t  level: 'H',\n\t\t  padding: 0,\n\t\t  size: 500,\n\t\t  value: 'https://rdrop.link/#'+code,\n\t\t})).toDataURL()+')');\n\t\t\n\t\twindow.sendChannel = sendChannel;\n\t\t//window.sendChannel.chunkSize = chunkSize;\n\t\tsendChannel.channel.addEventListener('open', () => {\n\t\t\tconsole.log('Channel Opened');\n\t\t\twindow.channelConnected = true;\n\t\t\tS.findElementByTag('connection-setup').hide();\n\t\t\tresolve();\n\t\t});\n\t\t/*sendChannel.addEventListener('open', () => {\n\t\t});\n\t\tsendChannel.addEventListener('error', () => console.log('onError'));*/\n\t\tsendChannel.channel.addEventListener('close', () => {\n\t\t\tconsole.log('Channel Closed');\n\t\t\tsetConnectionStatus('Connection Closed');\n\t\t\t$dropZone.hide();\n\t\t});\n\t});\n};\n\nconst sendFile = async (file) => {\n\twindow.gtag && window.gtag('event', 'send_file', {'size':file.file.size, 'file_type':file.file.type});\n\tfile.status = 'processing';\n\t\n\tsetConnectionStatus('Sending \"'+file.file.name+'\"...', true);\n\t\n\t\n\tvar fileBuffer = await file.file.arrayBuffer();\n\tvar offset = 0;\n\tvar $fileEntry = $filesQueueSend.find('[x-data-id=\"'+file.id+'\"]');\n\t\n\tvar $progressWrapper = S.findElementByTag('file-entry-progress-wrapper', 'children', $fileEntry).show();\n\tvar $progress = S.findElementByTag('file-entry-progress', 'children', $fileEntry);\n\t$progress.css('width', '0%');\n\t\n\tvar $size = S.findElementByTag('file-entry-size', 'children', $fileEntry);\n\tvar size = sizeFormat(file.file.size);\n\t\n\tvar $loading = S.findElementByTag('file-entry-loading', 'children', $fileEntry).show();\n\tvar $icon = S.findElementByTag('file-entry-icon', 'children', $fileEntry).hide();\n\ttry {\n\t\tif(sendChannel.channel.readyState!='open') {\n\t\t\tthrow 'CHANNEL_CLOSED';\n\t\t}\n\t\tawait window.sendChannel.sendJSON({\n\t\t\tid\t\t: file.id,\n\t\t\tname\t: file.file.name,\n\t\t\tsize\t: file.file.size,\n\t\t\ttype\t: file.file.type,\n\t\t});\n\t\tawait window.sendChannel.waitForOk();\n\t\t\n\t\tvar startTime = Date.now();\n\t\twhile((offset - window.sendChannel.channel.bufferedAmount)\u003Cfile.file.size) {\n\t\t\tif(sendChannel.channel.readyState!='open') {\n\t\t\t\tthrow 'CHANNEL_CLOSED';\n\t\t\t}\n\t\t\tif(offset\u003Cfile.file.size) {\n\t\t\t\tlet slice = fileBuffer.slice(offset, offset + chunkSize);\n\t\t\t\toffset += slice.byteLength;\n\t\t\t\tawait window.sendChannel.sendArrayBuffer(slice);\n\t\t\t\t//await window.sendChannel.waitForOk();\n\t\t\t} else {\n\t\t\t\tawait delay(400);\n\t\t\t}\n\t\t\t// Update UI\n\t\t\tvar progress = (((offset - window.sendChannel.channel.bufferedAmount) / file.file.size)*100).toFixed(1)+'%';\n\t\t\t$progress.css('width', progress);\n\t\t\t$size.text(progress+' - '+size);\n\t\t}\n\t\tvar endTime = Date.now();\n\t\tconsole.log('Took '+((endTime-startTime)/1000).toFixed(1)+'s -> '+sizeFormat(1000*file.file.size / (endTime-startTime))+'/s');\n\t\tawait window.sendChannel.waitForOk();\n\t\t$icon.show().html('&#xf058;').css('color', '#51913c');\n\t\t$loading.hide();\n\t\t$size.text(size);\n\t\t$progressWrapper.hide();\n\t\tsetConnectionStatus('Transfer Complete', false, 'f00c');\n\t\t\n\t\tfile.status = 'complete';\n\t\twindow.gtag && window.gtag('event', 'send_file', {'size':file.file.size, 'file_type':file.file.type});\n\t} catch(e) {\n\t\tconsole.error(e);\n\t\t$loading.hide();\n\t\t$icon.show().html('&#xf071;').css('color', '#d5393a');\n\t\t$progress.css('background-color', '#d5393a');\n\t\tsetConnectionStatus('Failed sending \"'+file.file.name+'\"', false, 'f071');\n\t\tfile.status = 'failed';\n\t}\n};\nconst processFiles = async () => {\n\tfor(let i=0;i\u003CfileQueue.length;i++) {\n\t\tlet file = fileQueue[i];\n\t\tif(!file)\n\t\t\tbreak;\n\t\tif(file.status=='idle') {\n\t\t\tawait sendFile(file);\n\t\t} else if(file.status=='processing') {\n\t\t\tbreak;\n\t\t}\n\t}\n};\nconst addFileToQueue = async (file) => {\n\tvar id = Math.random().toString(36).substring(2);\n\tfileQueue.push({\n\t\tid\t\t\t: id,\n\t\tfile\t\t: file,\n\t\tstatus\t\t: 'idle',\n\t\tprogress\t: 0,\n\t});\n\tvar $fileEntry = await S.renderComponent('File Entry', {\n\t\t'ID'\t\t: id,\n\t\t'File Name'\t: file.name,\n\t\t'File Size'\t: sizeFormat(file.size),\n\t});\n\tS.findElementByTag('file-entry-icon', 'children', $fileEntry).on('click', () => {\n\t\tvar idx = fileQueue.findIndex(f=>f.id==id);\n\t\tif(idx>0) {\n\t\t\tfileQueue.splice(idx, 1);\n\t\t\t$fileEntry.remove();\n\t\t}\n\t});\n\tS.findElementByTag('file-entry-loading', 'children', $fileEntry).hide();\n\tS.findElementByTag('file-entry-progress-wrapper', 'children', $fileEntry).hide();\n\t$filesQueueSend.append($fileEntry).show();\n\twindow.reparsePlugins();\n};\n\n\n$dropZone.on('dragover dragenter', (e) => {\n  e.preventDefault();\n});\n$dropZone.on('drop', async (e) => {\n\te.preventDefault();\n\tif(e.dataTransfer.files && e.dataTransfer.files.length>0) {\n\t\tvar files = [...e.dataTransfer.files];\n\t\tif(!isSetup) {\n\t\t\tawait window.setupSender(sendCallback);\n\t\t\tisSetup = true;\n\t\t}\n\t\tfor(let file of files)\n\t\t\tawait addFileToQueue(file);\n\t\tprocessFiles();\n\t}\n});\n$dropZone.on('click', () => {\n\t$fileInput[0].click();\n});\n$fileInput.on('input', async (e)=>{\n\tif($fileInput[0].files && $fileInput[0].files.length>0) {\n\t\tvar files = [...$fileInput[0].files];\n\t\tif(!isSetup) {\n\t\t\tawait window.setupSender(sendCallback);\n\t\t\tisSetup = true;\n\t\t}\n\t\tfor(let file of files)\n\t\t\tawait addFileToQueue(file);\n\t\tprocessFiles();\n\t\t$fileInput.val('');\n\t}\n});\n\n\nvar receivedFiles = [];\nvar $codeInput = S.findElementByTag('code-input').on('input', async () => {\n\tvar c = $codeInput.val().toLowerCase().replace(/[^a-z0-9]/g, '');\n\tif(c.length==6) {\n\t\twindow.code = c;\n\t\ttry {\n\t\t\tsetConnectionStatus('Connecting...', true);\n\t\t\tS.findElementByTag('receive-setup').hide();\n\t\t\tawait window.setupReceiver(async (receiveChannel) => {\n\t\t\t\twindow.receiveChannel = receiveChannel;\n\t\t\t\twindow.channelConnected = true;\n\t\t\t\tvar step = 'idle';\n\t\t\t\tlet fileInfo;\n\t\t\t\tlet $icon, $loading, $progressWrapper, $progress, $fileEntry, $size;\n\t\t\t\treceiveChannel.addDataListener(async (data) => {\n\t\t\t\t\tif(step=='idle') {\n\t\t\t\t\t\tfileInfo = await receiveChannel.readJSON();\n\t\t\t\t\t\tif(!fileInfo)\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\tconsole.log(fileInfo);\n\t\t\t\t\t\treceiveChannel.sendOK();\n\t\t\t\t\t\tsetConnectionStatus('Receiving \"'+fileInfo.name+'\"...', true);\n\t\t\t\t\t\t$fileEntry = await S.renderComponent('File Entry', {\n\t\t\t\t\t\t\t'ID'\t\t: fileInfo.id,\n\t\t\t\t\t\t\t'File Name'\t: fileInfo.name,\n\t\t\t\t\t\t\t'File Size'\t: sizeFormat(fileInfo.size),\n\t\t\t\t\t\t});\n\t\t\t\t\t\t$filesQueueReceive.append($fileEntry);\n\t\t\t\t\t\twindow.reparsePlugins();\n\t\t\t\t\t\t\n\t\t\t\t\t\t$icon = S.findElementByTag('file-entry-icon', 'children', $fileEntry).hide();\n\t\t\t\t\t\t$loading = S.findElementByTag('file-entry-loading', 'children', $fileEntry);\n\t\t\t\t\t\t$progressWrapper = S.findElementByTag('file-entry-progress-wrapper', 'children', $fileEntry);\n\t\t\t\t\t\t$progress = S.findElementByTag('file-entry-progress', 'children', $fileEntry);\n\t\t\t\t\t\t$size = S.findElementByTag('file-entry-size', 'children', $fileEntry);\n\t\t\t\t\t\t\n\t\t\t\t\t\t$filesQueueReceive.show();\n\t\t\t\t\t\t$loading.show();\n\t\t\t\t\t\t$progressWrapper.show();\n\t\t\t\t\t\t$progress.css('width', '0%');\n\t\t\t\t\t\t\n\t\t\t\t\t\tstep = 'receiveFile';\n\t\t\t\t\t} else if(step=='receiveFile') {\n\t\t\t\t\t\tif(receiveChannel.bufferLength() >= fileInfo.size) {\n\t\t\t\t\t\t\tlet fileBuf = receiveChannel.getArrayBuffer();\n\t\t\t\t\t\t\tlet fileBlob = new Blob(fileBuf, {type: fileInfo.type.includes('image/')?'application/octet-stream':fileInfo.type});\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tlet fileInfo_ = fileInfo;\n\t\t\t\t\t\t\treceivedFiles.push({\n\t\t\t\t\t\t\t\tinfo\t: fileInfo,\n\t\t\t\t\t\t\t\tblob\t: fileBlob\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tconsole.log('Transfer Complete');\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\treceiveChannel.sendOK();\n\t\t\t\t\t\t\t//S.findElementByTag('connection-status').hide();\n\t\t\t\t\t\t\tsetConnectionStatus(false);\n\t\t\t\t\t\t\tstep = 'idle';\n\t\t\t\t\t\t\t$icon.html('&#xf019;').show();\n\t\t\t\t\t\t\t$size.text(sizeFormat(fileInfo_.size));\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t$fileEntry.css('cursor', 'pointer').on('click', () => {\n\t\t\t\t\t\t\t\tdownloadBlob(fileBlob, fileInfo_.name);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t$loading.hide();\n\t\t\t\t\t\t\t$progressWrapper.hide();\n\t\t\t\t\t\t\tif(receivedFiles.length>1) {\n\t\t\t\t\t\t\t\t$downloadAll.show();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar progress = (100 * receiveChannel.bufferLength() / fileInfo.size).toFixed(1)+'%';\n\t\t\t\t\t\t\t$progress.css('width', progress);\n\t\t\t\t\t\t\t$size.text(progress+' - '+sizeFormat(fileInfo.size));\n\t\t\t\t\t\t\t//receiveChannel.sendOK();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treceiveChannel.channel.onopen = () => {\n\t\t\t\t\tconsole.log('Channel Open');\n\t\t\t\t\tsetConnectionStatus('Connection Established', true);\n\t\t\t\t};\n\t\t\t\treceiveChannel.channel.onclose = () => {\n\t\t\t\t\tconsole.log('Channel Closed');\n\t\t\t\t\tsetConnectionStatus('Connection Closed', false);\n\t\t\t\t};\n\t\t\t});\n\t\t} catch(e) {\n\t\t\tsetConnectionStatus(false);\n\t\t\tS.findElementByTag('receive-setup').css('display', 'flex');\n\t\t\tconsole.error(e);\n\t\t\tController.showError(String(e));\n\t\t}\n\t}\n});\n\nvar isGenerating = false;\n$downloadAll.on('click', async () => {\n\tif(isGenerating)\n\t\treturn;\n\tisGenerating = true;\n\t$downloadAll.text('Generating ZIP...');\n\t\n\t\n\t\n\tvar names = [];\n\tvar generateName = (name) => {\n\t\tif(names.includes(name)) {\n\t\t\tvar rnd = Math.random().toString(36).substring(2, 6);\n\t\t\tname = name.replace(/(\\.[a-z]+$|$)/i, '-'+rnd+'$1');\n\t\t}\n\t\tnames.push(name);\n\t\treturn name;\n\t};\n\t\n\t/*var zip = new JSZip();\n\tfor(let file of receivedFiles) {\n\t\tzip.file(generateName(file.info.name), file.blob);\n\t}\n\tvar zipFile = await zip.generateAsync({type:\"blob\"});*/\n\tvar files = {};\n\tfor(let file of receivedFiles) {\n\t\tfiles[generateName(file.info.name)] = new Uint8Array(await file.blob.arrayBuffer());\n\t}\n\t\n\tconsole.log(files);\n\tfflate.zip(files, {\n\t\tlevel: 3,\n\t\tmem: 2\n\t}, (err, data) => {\n\t\t$downloadAll.text('Download All (.zip)');\n\t\tisGenerating = false;\n\t\tif(err) {\n\t\t\tController.showError('Error while generating ZIP.');\n\t\t\tconsole.error(err);\n\t\t\treturn;\n\t\t}\n\t\tvar zipBlob = new Blob([data]);\n\t\t\n\t\tdownloadBlob(zipBlob, 'rdrop-archive.zip');\n\t});\n\t\n\t\n\t\n});\n"},{"name":"Auto Cleanup","trigger":"render","controller":[{"x":1,"y":3,"id":"30ji84776k","name":"Action Trigger","type":"actionTrigger","connections":{"nextCall":"fus13u4krk"},"config":{},"dftInputs":{}},{"x":13,"y":3,"id":"4hjp05pxly","name":"Random","type":"random","connections":{"nextCall":"lje75o9jht","result":["lje75o9jht.value1"]},"config":{},"dftInputs":{"min":0,"max":100,"integer":true}},{"x":20,"y":3,"id":"lje75o9jht","name":"Comparison Condition","type":"comparisonCondition","connections":{"then":"b1qcuvj4h1"},"config":{"forceString":false},"dftInputs":{"value1":"","operator":"\u003C","value2":"10"}},{"x":28,"y":3,"id":"b1qcuvj4h1","name":"Network Request","type":"networkRequest","connections":{},"config":{},"dftInputs":{"method":"get","url":"/cleanup","payloadType":"json","responseType":"text"}},{"x":7,"y":3,"id":"fus13u4krk","name":"Delay","type":"delay","connections":{"nextCall":"4hjp05pxly"},"config":{},"dftInputs":{"delay":3000}}]},{"name":"Wake Lock","trigger":"render","controller":"\ntry {\n\tif('wakeLock' in navigator)\n\t\tawait navigator.wakeLock.request('screen');\n\t/*var noSleep = new NoSleep();\n\tnoSleep.enable();*/\n\t// Create the root video element\n\tvar video = document.createElement('video');\n\tvideo.setAttribute('loop', '');\n\tvideo.setAttribute('playsinline', '');\n\t// Add some styles if needed\n\tvideo.setAttribute('style', 'position: fixed;width:100px;height:100px;left:-10000px;top:-1000px;pointer-events:none;transform:scale(0.001);');\n\t\n\t// A helper to add sources to video\n\tfunction addSourceToVideo(element, type, dataURI) {\n\t    var source = document.createElement('source');\n\t    source.src = dataURI;\n\t    source.type = 'video/' + type;\n\t    element.appendChild(source);\n\t}\n\t\n\t// A helper to concat base64\n\tvar base64 = function(mimeType, base64) {\n\t    return 'data:' + mimeType + ';base64,' + base64;\n\t};\n\t\n\t// Add Fake sourced\n\taddSourceToVideo(video,'webm', base64('video/webm', 'GkXfo0AgQoaBAUL3gQFC8oEEQvOBCEKCQAR3ZWJtQoeBAkKFgQIYU4BnQI0VSalmQCgq17FAAw9CQE2AQAZ3aGFtbXlXQUAGd2hhbW15RIlACECPQAAAAAAAFlSua0AxrkAu14EBY8WBAZyBACK1nEADdW5khkAFVl9WUDglhohAA1ZQOIOBAeBABrCBCLqBCB9DtnVAIueBAKNAHIEAAIAwAQCdASoIAAgAAUAmJaQAA3AA/vz0AAA='));\n\taddSourceToVideo(video, 'mp4', base64('video/mp4', 'AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAAG21kYXQAAAGzABAHAAABthADAowdbb9/AAAC6W1vb3YAAABsbXZoZAAAAAB8JbCAfCWwgAAAA+gAAAAAAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAIVdHJhawAAAFx0a2hkAAAAD3wlsIB8JbCAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAIAAAACAAAAAABsW1kaWEAAAAgbWRoZAAAAAB8JbCAfCWwgAAAA+gAAAAAVcQAAAAAAC1oZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW9IYW5kbGVyAAAAAVxtaW5mAAAAFHZtaGQAAAABAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAAEcc3RibAAAALhzdHNkAAAAAAAAAAEAAACobXA0dgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAIAAgASAAAAEgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAAFJlc2RzAAAAAANEAAEABDwgEQAAAAADDUAAAAAABS0AAAGwAQAAAbWJEwAAAQAAAAEgAMSNiB9FAEQBFGMAAAGyTGF2YzUyLjg3LjQGAQIAAAAYc3R0cwAAAAAAAAABAAAAAQAAAAAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAEAAAABAAAAFHN0c3oAAAAAAAAAEwAAAAEAAAAUc3RjbwAAAAAAAAABAAAALAAAAGB1ZHRhAAAAWG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAK2lsc3QAAAAjqXRvbwAAABtkYXRhAAAAAQAAAABMYXZmNTIuNzguMw=='));\n\t\n\t// Append the video to where ever you need\n\tdocument.body.appendChild(video);\n\t\n\t// Start playing video after any user interaction.\n\tvar playFn = function() {\n\t    video.play();\n\t    document.body.removeEventListener('touchend', playFn);\n\t};\n\tdocument.body.addEventListener('touchend', playFn);\n} catch(e) {}"},{"name":"Helpers","trigger":"render","controller":"\nwindow.setConnectionStatus = (text, loading, icon) => {\n\tif(text) {\n\t\tS.findElementByTag('connection-status').show();\n\t\tif(loading)\n\t\t\tS.findElementByTag('connection-status-loading').show();\n\t\telse\n\t\t\tS.findElementByTag('connection-status-loading').hide();\n\t\t\n\t\tif(icon)\n\t\t\tS.findElementByTag('connection-status-icon').html('&#x'+icon+';').show();\n\t\telse\n\t\t\tS.findElementByTag('connection-status-icon').hide();\n\t\tS.findElementByTag('connection-status-text').text(text);\n\t} else {\n\t\tS.findElementByTag('connection-status').hide();\n\t}\n};\n\nwindow.sizeFormat = (size) => {\n    var i = -1;\n    var byteUnits = [' kB', ' MB', ' GB', ' TB', 'PB', 'EB', 'ZB', 'YB'];\n    do {\n        size = size / 1024;\n        i++;\n    } while (size > 1024);\n\n    return Math.max(size, 0.1).toFixed(1) + byteUnits[i];\n};\nwindow.downloadBlob = (blob, name) => {\n\tlet fileUrl = window.URL.createObjectURL(blob);\n\tconsole.log(fileUrl);\n\tvar $dll = S.H('\u003Ca>download\u003C/a>').attr('href', fileUrl).attr('target', '_blank').attr('download', name).hide().appendTo('body');\n\t$dll[0].click();\n\tsetTimeout(() => {\n\t\twindow.URL.revokeObjectURL(fileUrl);\n\t\t$dll.remove();\n\t}, 3000);\n};\nS.H(`\u003Cstyle>\n.loader-icon {\n\tbackground-image:url(\"data:image/svg+xml,%3Csvg version='1.1' id='L9' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='10 10 80 80' enable-background='new 0 0 0 0' xml:space='preserve'%3E%3Cpath fill='%23fff' d='M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50'%3E%3CanimateTransform attributeName='transform' attributeType='XML' type='rotate' dur='1s' from='0 50 50' to='360 50 50' repeatCount='indefinite'%3E%3C/animateTransform%3E%3C/path%3E%3C/svg%3E\");\n}\n\n.loader-icon-black {\n\tbackground-image:url(\"data:image/svg+xml,%3Csvg version='1.1' id='L9' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='10 10 80 80' enable-background='new 0 0 0 0' xml:space='preserve'%3E%3Cpath fill='%23000' d='M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50'%3E%3CanimateTransform attributeName='transform' attributeType='XML' type='rotate' dur='1s' from='0 50 50' to='360 50 50' repeatCount='indefinite'%3E%3C/animateTransform%3E%3C/path%3E%3C/svg%3E\");\n}\n::-moz-selection {\n  color: #000000;\n  background: #f5bb18;\n}\n::selection {\n  color: #000000;\n  background: #f5bb18;\n}\n\u003C/style>`).appendTo('head');\n\n\nif(window.location.hash && window.location.hash.match(/^\\#[a-z0-9]{3}\\-[a-z0-9]{3}$/i)) {\n\tS.findElementByTag('code-input').val(window.location.hash.substring(1)).trigger('input');\n\twindow.history.replaceState(null, document.title, '/');\n}"}],"fkn8dpu0nt":[{"name":"Auto Hide","trigger":"render","controller":[{"x":1,"y":3,"id":"l7p9zwrysz","name":"Action Trigger","type":"actionTrigger","connections":{"element":["376167yodx.elements"],"nextCall":"376167yodx"},"config":{},"dftInputs":{}},{"x":7,"y":3,"id":"376167yodx","name":"Hide Element","type":"hide","connections":{},"config":{},"dftInputs":{}}]}],"2x5mn3fb8":[{"name":"Copy","trigger":"click","controller":"try {\n\tawait navigator.clipboard.writeText(_element.text());\n\tController.showMessage('Copied to clipboard');\n} catch(e) {\n\tconsole.error(e);\n}"}],"gad9ffc4zc":[{"name":"Copy","trigger":"click","controller":[{"x":1,"y":3,"id":"c9dt04xm3i","name":"Action Trigger","type":"actionTrigger","connections":{"element":["6s680mm5cg.elements"],"nextCall":"6s680mm5cg"},"config":{},"dftInputs":{}},{"x":6,"y":3,"id":"6s680mm5cg","name":"Previous Element","type":"previousElement","connections":{"elements":["bmdzlbp6t2.elements"],"nextCall":"bmdzlbp6t2"},"config":{},"dftInputs":{}},{"x":11,"y":3,"id":"bmdzlbp6t2","name":"Trigger Action","type":"triggerAction","connections":{},"config":{},"dftInputs":{"trigger":"click"}}]}],"h4rnwkg0qv":[{"name":"Share Code","trigger":"click","controller":"var formattedCode = S.findElementByTag('code-output').text();\nawait navigator.share({\n\ttitle\t: formattedCode,\n\ttext\t: formattedCode,\n\turl\t\t: 'https://rdrop.link/#'+formattedCode,\n})"}],"jrv6apalzt":[{"name":"Auto Hide","trigger":"render","controller":[{"x":1,"y":3,"id":"dzqq9noh3y","name":"Action Trigger","type":"actionTrigger","connections":{"element":["2ub0c80mk5.elements"],"nextCall":"2ub0c80mk5"},"config":{},"dftInputs":{}},{"x":6,"y":3,"id":"2ub0c80mk5","name":"Hide Element","type":"hide","connections":{},"config":{},"dftInputs":{}}]}],"dmhoky27wq":[{"name":"Auto Hide","trigger":"render","controller":[{"x":1,"y":3,"id":"l2mvcgfv1e","name":"Action Trigger","type":"actionTrigger","connections":{"element":["m39rk6we73.elements"],"nextCall":"m39rk6we73"},"config":{},"dftInputs":{}},{"x":6,"y":3,"id":"m39rk6we73","name":"Hide Element","type":"hide","connections":{},"config":{},"dftInputs":{}}]}],"6yepmrjm3x":[{"name":"Start Scanning","trigger":"click","controller":"if(!window.qrScanner) {\n\twindow.qrScanner = new QrScanner(document.querySelector('#qr-scanner'), (result) => {\n\t\tvar matches = result.match(/^https?:\\/\\/(www\\.)?rdrop\\.link\\/\\#([a-z0-9]{3}\\-[a-z0-9]{3})$/i);\n\t\tconsole.log(result, matches);\n\t\tif(matches) {\n\t\t\tS.findElementByTag('code-input').val(matches[2]).trigger('input');\n\t\t\twindow.qrScanner.stop();\n\t\t\tS.findElementByTag('qr-scanner').hide();\n\t\t\tdocument.querySelector('html').style.overflow = 'auto';\n\t\t}\n\t});\n\twindow.qrScanner.setInversionMode('invert');\n}\nwindow.qrScanner.start();\nS.findElementByTag('qr-scanner').show();\ndocument.querySelector('html').style.overflow = 'hidden';"}],"dlbld8w7jb":[{"name":"Close Scanner","trigger":"click","controller":"window.qrScanner.stop();\nS.findElementByTag('qr-scanner').hide();\ndocument.querySelector('html').style.overflow = 'auto';"}],"9x75j1i38l":[{"name":"Auto Load","trigger":"render","controller":"_element.append('\u003Cvideo id=\"qr-scanner\" style=\"width:100%;height:100%;object-fit: cover;\">\u003C/video>');\n"}],"9jol78bd7":[{"name":"Auto Hide","trigger":"render","controller":[{"x":1,"y":3,"id":"l2mvcgfv1e","name":"Action Trigger","type":"actionTrigger","connections":{"element":["m39rk6we73.elements"],"nextCall":"m39rk6we73"},"config":{},"dftInputs":{}},{"x":6,"y":3,"id":"m39rk6we73","name":"Hide Element","type":"hide","connections":{},"config":{},"dftInputs":{}}]}],"cybs1aqcas":[{"name":"Auto Hide","trigger":"render","controller":[{"x":1,"y":3,"id":"bxaupnhnb6","name":"Action Trigger","type":"actionTrigger","connections":{"element":["czhvd1aaiy.elements"],"nextCall":"czhvd1aaiy"},"config":{},"dftInputs":{}},{"x":6,"y":3,"id":"czhvd1aaiy","name":"Hide Element","type":"hide","connections":{},"config":{},"dftInputs":{}}]}],"7fk2kvai5q":[{"name":"Open Donate Popup","trigger":"click","controller":[{"x":1,"y":3,"id":"f2bs6vy6mn","name":"Action Trigger","type":"actionTrigger","connections":{"nextCall":"d1ymaj5a3"},"config":{},"dftInputs":{}},{"x":7,"y":3,"id":"d1ymaj5a3","name":"Find Element By Tag","type":"findElementByTag","connections":{"nextCall":"692pqgkuff","elements":["692pqgkuff.elements","dcqx0s3t2u.elements","huvq87bita.elements"]},"config":{},"dftInputs":{"tag":"donate-popup","scope":"page","first":true}},{"x":18,"y":2,"id":"692pqgkuff","name":"Has Class","type":"hasClass","connections":{"hasClass":["ffktvwclho.condition"],"nextCall":"ffktvwclho"},"config":{},"dftInputs":{"class":"donate-popup-visible"}},{"x":25,"y":2,"id":"ffktvwclho","name":"Condition","type":"condition","connections":{"then":"dcqx0s3t2u","else":"huvq87bita"},"config":{},"dftInputs":{"condition":false}},{"x":33,"y":2,"id":"dcqx0s3t2u","name":"Remove Class","type":"removeClass","connections":{},"config":{},"dftInputs":{"class":"donate-popup-visible"}},{"x":33,"y":6,"id":"huvq87bita","name":"Add Class","type":"addClass","connections":{},"config":{},"dftInputs":{"class":"donate-popup-visible"}}]}],"ggzsbg88sj":[{"name":"Auto Load","trigger":"render","controller":[{"x":1,"y":3,"id":"68oomjiiec","name":"Action Trigger","type":"actionTrigger","connections":{"element":["lf3uz9oaim.elements"],"nextCall":"lf3uz9oaim"},"config":{},"dftInputs":{}},{"x":7,"y":3,"id":"lf3uz9oaim","name":"Set Html","type":"setHtml","connections":{},"config":{},"dftInputs":{"html":"\u003Ciframe style=\"width:100%\" src=\"https://www.buymeacoffee.com/widget/page/ybouane?description=Support%20me%20on%20Buy%20me%20a%20coffee!&color=%23FFDD00\" allow=\"payment\">\u003C/iframe>"}}]}],"gtuswjqh8y":[{"name":"Close Donation Popup","trigger":"clickOutside","controller":[{"x":1,"y":3,"id":"i6yolh7cv2","name":"Action Trigger","type":"actionTrigger","connections":{"nextCall":"60i1ce9ii9"},"config":{},"dftInputs":{}},{"x":6,"y":3,"id":"60i1ce9ii9","name":"Find Element By Tag","type":"findElementByTag","connections":{"elements":["4bp8e42fo8.elements"],"nextCall":"4bp8e42fo8"},"config":{},"dftInputs":{"tag":"donate-popup","scope":"page","first":true}},{"x":15,"y":3,"id":"4bp8e42fo8","name":"Remove Class","type":"removeClass","connections":{},"config":{},"dftInputs":{"class":"donate-popup-visible"}}]}]},"variables":{"createkey":"B5nlQAthD63CsqYCa0fn52t0mj991GXSGY0Inciia3Cyx0qz7hJUJGc8JodezM/NBodKaajUUJXzuNSFmpQizS38hgDCZttv7TgftLBslgpIyBdGsseRbcYSOkBx9eDF97OGZ61gXDVmbMrjKzh09zI/APlKKLX7zAz+R/ulzdS6kQpkmO4Wa6C3Y4aC54O/lz0GdXYPTRC8X2l+p6xSHnNhf8YTcBZUfKsoRvdWzljDO6tZcJQkbNuVXwhf3NmMJJI7ZwdLuxnVWUO5Wu3CFg==","retrievekey":"zr/QMP8pToxZhZTY+RYVtFu0a+Hp155yFA2ypEx5k6Jx/eFQO2Vs2uv5uRGX6VAhm2Bp8xodgcruo7/nXLVSE3GprP386a0TaA90BGju0nmfq5Emv2sVXvHonlzYWiFB4dI9yE1oNZ0n6AU6RlPds/aS/MN8t+n1XdUWW40hUQFjtcG0KWU7X2wHcT/4Gn5B2cY/yjyUei5p9RXximmRDkrjZrjzRGe1mC3aoRJ48qK+LRGqrZQG7A/q8J4WonJVb4C4l5GO35mWwH+OGeht6wEowcULtZA8B44LA9Ezjhnwqjz0Uerh/83RhiSPhu00om0NR92/hXcKus73V+WjI2Xzx35+I/XEsTZgmWH9PVUBtRmJtSfuWRYYD2MJsqWBw9xstO5YlXuMgAFRXULeGqSpHM9cznQApa445ZkzsPNRJOAJfpTsEPBl6lKCxnszVLtaTgI2IbuLKje+rT5Nethgo5rrFkQNYkaQsc4SeweHG4AYcX3/uUS1lhauzRqJF7RDB3EAw05zcAULbkV1USKxuF3XYjrrHrDmZc/gMBg/18yvwHuVVyhQQdd+UL/o"},"components":{"lhu2nuklpu":{"id":"lhu2nuklpu","name":"File Entry","structure":{"id":"a3tocbwu32","children":[{"id":"efbyp8xoj9"},{"id":"1dour7m00c"},{"id":"fe0pec6wiu","children":[]},{"id":"c4pfnw0m7q"},{"id":"8dgqyej8m9","children":[{"id":"9f9qhvmd1u","children":[]}]}]},"elements":{"efbyp8xoj9":{"id":"efbyp8xoj9","classes":["files-queue-entry-name"],"style":{},"properties":{"content":"my-cool-image.png","_tags":["file-entry-name"]},"linkedVariables":{},"actions":[],"subElements":{},"extraAttrs":{},"type":"div-text"},"1dour7m00c":{"id":"1dour7m00c","classes":["files-queue-entry-size"],"style":{},"properties":{"content":"25MB","_tags":["file-entry-size"]},"linkedVariables":{},"actions":[],"subElements":{},"extraAttrs":{},"type":"div-text"},"c4pfnw0m7q":{"id":"c4pfnw0m7q","classes":["files-queue-entry-icon"],"style":{},"properties":{"icon":"times-circle","_tags":["file-entry-icon"]},"linkedVariables":{},"actions":[],"subElements":{},"extraAttrs":{},"type":"icon"},"8dgqyej8m9":{"id":"8dgqyej8m9","classes":["files-queue-entry-progress-bar"],"style":{},"properties":{"_tags":["file-entry-progress-wrapper"]},"linkedVariables":{},"actions":[],"subElements":{},"extraAttrs":{},"type":"div"},"9f9qhvmd1u":{"id":"9f9qhvmd1u","classes":["files-queue-entry-progress-bar-inner"],"style":{},"properties":{"_tags":["file-entry-progress"]},"linkedVariables":{},"actions":[],"subElements":{},"extraAttrs":{},"type":"div"},"a3tocbwu32":{"id":"a3tocbwu32","classes":["files-queue-entry"],"style":{},"properties":{"_tags":["file-entry"],"_data-id":""},"linkedVariables":{},"actions":[],"subElements":{},"extraAttrs":{},"type":"div"},"fe0pec6wiu":{"id":"fe0pec6wiu","classes":["loader-icon-black"],"style":{},"properties":{"_tags":["file-entry-loading"]},"linkedVariables":{},"actions":[],"subElements":{},"extraAttrs":{},"type":"div"}},"properties":[{"type":"text","title":"ID","name":"a3tocbwu32.properties._data-id","default":""},{"name":"efbyp8xoj9.properties.content","title":"File Name","type":"editableText","multiline":true,"html":true,"default":"my-cool-image.png"},{"name":"1dour7m00c.properties.content","title":"File Size","type":"editableText","multiline":true,"html":true,"default":"25MB"}]}}}</script>
		<script type="text/javascript" src="--app.js"></script>
		
			<script async src="https://www.googletagmanager.com/gtag/js?id=G-PDYYM4WYPR"></script><script>window.dataLayer = window.dataLayer || [];window.gtag = function(){dataLayer.push(arguments);};gtag("js", new Date());window.gtag_ID="G-PDYYM4WYPR";gtag("config", window.gtag_ID);</script>
		
		
	</head>
	<body x-element-id="0" x-element-oid="0" x-element-tags><x-code style="display:none;"><script src="https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/qr-scanner/1.3.0/qr-scanner.umd.min.js"></script>
<script type="text/javascript">
(async () =>Â {
QrScanner.WORKER_PATH = window.URL.createObjectURL(new Blob([await (await fetch('https://cdnjs.cloudflare.com/ajax/libs/qr-scanner/1.3.0/qr-scanner-worker.min.js')).text()]));
})();
</script>

<script type="text/javascript" src="https://unpkg.com/jszip@3.7.1/dist/jszip.min.js"></script>

<script src="https://unpkg.com/fflate@0.7.3/umd/index.js"></script></x-code><a class="logo" href="/" target="_self" children-wrapper><img style="object-fit:contain;width:100px;margin:0px 10px 0px 0px;" src="https://sktch-projects.s3.amazonaws.com/assets/00fd5e440bc4cd330e46b3ac969ddb6c.png" alt="" loading="lazy" /><span >rDrop</span></a><h2 class="headline">Simple and Fast P2P File Transfer Service</h2><h2 class="sub-headline">No compression, No size limit, Secure and Fast!</h2><div x-element-id="fkn8dpu0nt" x-element-oid="fkn8dpu0nt" class="notice" x-element-tags="connection-failed">It seems like there&#039;s an issue connecting. Make sure that both devices are on the same local network (same wifi).</div><div class="main-wrapper" x-element-tags="modes" children-wrapper><div class="mode" x-element-tags="mode-send" children-wrapper><h2 class="mode-title" x-element-tags="mode-send-title">Send Files</h2><div x-element-id="jrv6apalzt" x-element-oid="jrv6apalzt" x-element-tags="connection-setup" children-wrapper><div style="text-align:center;">Copy or scan this code on the receiving device to start the transfer:</div><div class="code-wrapper" children-wrapper><div x-element-id="2x5mn3fb8" x-element-oid="2x5mn3fb8" class="code" x-element-tags="code-output">000-000</div><x-icon x-element-id="gad9ffc4zc" x-element-oid="gad9ffc4zc" class="code-icon-action">&#xf0c5;</x-icon><x-icon x-element-id="h4rnwkg0qv" x-element-oid="h4rnwkg0qv" class="code-icon-action">&#xf1e0;</x-icon></div><div class="qr-code" x-element-tags="qr-code" children-wrapper></div></div><div x-element-id="dmhoky27wq" x-element-oid="dmhoky27wq" style="margin:0px 0px 20px 0px;" x-element-tags="connection-status" children-wrapper><div class="loader-icon" x-element-tags="connection-status-loading" children-wrapper></div><x-icon class="connection-status-icon" x-element-tags="connection-status-icon">&#xf00c;</x-icon><div style="text-align:center;text-transform:uppercase;font-weight:500;" x-element-tags="connection-status-text">Waiting for receiver</div></div><div class="files-queue" x-element-tags="files-queue-send" children-wrapper><x-component><div class="files-queue-entry" x-element-tags="file-entry" x-data-id children-wrapper><div class="files-queue-entry-name" x-element-tags="file-entry-name">my-cool-image.png</div><div class="files-queue-entry-size" x-element-tags="file-entry-size">25MB</div><div class="loader-icon-black" x-element-tags="file-entry-loading" children-wrapper></div><x-icon class="files-queue-entry-icon" x-element-tags="file-entry-icon">&#xf057;</x-icon><div class="files-queue-entry-progress-bar" x-element-tags="file-entry-progress-wrapper" children-wrapper><div class="files-queue-entry-progress-bar-inner" x-element-tags="file-entry-progress" children-wrapper></div></div></div></x-component></div><div class="drop-zone" x-element-tags="drop-zone" children-wrapper><div class="drop-zone-text">Drop files HERE</div></div></div><div class="mode-separator" x-element-tags="mode-separator" children-wrapper></div><div class="mode" x-element-tags="mode-receive" children-wrapper><h2 class="mode-title" x-element-tags="mode-receive-title">Receive Files</h2><div style="display:flex;flex-direction:column;" x-element-tags="receive-setup" children-wrapper><input x-element-tags="code-input" type="text" placeholder="000-000" name=""value="" x-text-field /><h3>OR</h3><button x-element-id="6yepmrjm3x" x-element-oid="6yepmrjm3x" x-element-tags="scan-qr-button" x-button type="submit" name="">Scan QR Code</button></div><div x-element-id="9x75j1i38l" x-element-oid="9x75j1i38l" class="qr-scanner" x-element-tags="qr-scanner" children-wrapper><x-icon x-element-id="dlbld8w7jb" x-element-oid="dlbld8w7jb" class="qr-scanner-close">&#xf00d;</x-icon></div><div x-element-id="9jol78bd7" x-element-oid="9jol78bd7" style="margin:0px 0px 20px 0px;" x-element-tags="connection-status" children-wrapper><div class="loader-icon" x-element-tags="connection-status-loading" children-wrapper></div><div style="text-align:center;text-transform:uppercase;font-weight:500;" x-element-tags="connection-status-text">Connecting...</div></div><div class="files-queue" x-element-tags="files-queue-receive" children-wrapper><x-component><div class="files-queue-entry" x-element-tags="file-entry" x-data-id children-wrapper><div class="files-queue-entry-name" x-element-tags="file-entry-name">my-cool-image.png</div><div class="files-queue-entry-size" x-element-tags="file-entry-size">25MB</div><div class="loader-icon-black" x-element-tags="file-entry-loading" children-wrapper></div><x-icon class="files-queue-entry-icon" x-element-tags="file-entry-icon">&#xf057;</x-icon><div class="files-queue-entry-progress-bar" x-element-tags="file-entry-progress-wrapper" children-wrapper><div class="files-queue-entry-progress-bar-inner" x-element-tags="file-entry-progress" children-wrapper></div></div></div></x-component></div><button x-element-id="cybs1aqcas" x-element-oid="cybs1aqcas" x-element-tags="download-all" x-button type="submit" name="">Download All (.zip)</button></div></div><x-code><div id="my-other-projects"></div><script type="text/javascript" src="https://static.ybouane.com/other-projects.js"></script></x-code><div style="padding:20px 5px 20px 5px;background-color:rgba(0, 0, 0, 0.34);width:90%;max-width:1000px;text-align:center;border-radius:8px 8px 8px 8px;margin:20px 0px 20px 0px;color:rgba(255, 255, 255, 0.70);" children-wrapper><div>Â©2023 â rDrop.linkâ Built in Low-Code (with <a href="https://sktch.io/" target="_blank">Sktch.io</a>) by <a href="https://twitter.com/ybouane" target="_blank">@ybouane</a></div></div><div x-element-id="gtuswjqh8y" x-element-oid="gtuswjqh8y" style="padding:5px 5px 5px 5px;" children-wrapper><div x-element-id="7fk2kvai5q" x-element-oid="7fk2kvai5q" class="donate-button">â¤ï¸</div><div x-element-id="ggzsbg88sj" x-element-oid="ggzsbg88sj" class="donate-popup" x-element-tags="donate-popup" children-wrapper></div></div></body>
</html>
